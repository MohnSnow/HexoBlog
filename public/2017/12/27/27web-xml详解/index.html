<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="码农"><title>web.xml详解 | Jason的博客</title><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/5.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="stylesheet" type="text/css" href="/css/donate.css"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">web.xml详解</h1><a id="logo" href="/.">Jason的博客</a><p class="description">我捉到了一只蟋蟀</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-male"> 关于</i></a><a href="/history/"><i class="fa fa-history"> 历史</i></a><a href="/guestbook/"><i class="fa fa-comments"> 留言</i></a><a href="/book/"><i class="fa fa-book"> 书单</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">web.xml详解</h1><div class="post-meta">Dec 27, 2017<script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><div class="post-content"><p>一  web.xml常用配置文件元素及其意义概览<br><a id="more"></a><br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">web-app</span>&gt;</span></div><div class="line">      <span class="comment">&lt;!--定义了WEB应用的名字--&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">display-name</span>&gt;</span><span class="tag">&lt;/<span class="name">display-name</span>&gt;</span></div><div class="line">      <span class="comment">&lt;!--声明WEB应用的描述信息--&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">description</span>&gt;</span><span class="tag">&lt;/<span class="name">description</span>&gt;</span></div><div class="line"></div><div class="line">     <span class="comment">&lt;!--context-param元素声明应用范围内的初始化参数--&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">context-param</span>&gt;</span><span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></div><div class="line"></div><div class="line">     <span class="comment">&lt;!--过滤器元素将一个名字与一个实现javax.servlet.Filter接口的类相关联--&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">filter</span>&gt;</span><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></div><div class="line"></div><div class="line">     <span class="comment">&lt;!--一旦命名了一个过滤器，就要利用filter-mapping元素把它与一个或多个servlet或JSP页面相关联--&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></div><div class="line"></div><div class="line">     <span class="comment">&lt;!--servlet API的版本2.3增加了对事件监听程序的支持，事件监听程序在建立、修改和删除会话或servlet环境时得到通知。</span></div><div class="line">         Listener元素指出事件监听程序类--&gt;</div><div class="line">     <span class="tag">&lt;<span class="name">listener</span>&gt;</span><span class="tag">&lt;/<span class="name">listener</span>&gt;</span></div><div class="line"></div><div class="line">     <span class="comment">&lt;!--在向servlet或JSP页面制定初始化参数或定制URL时，必须首先命名servlet或JSP页面。</span></div><div class="line">         Servlet元素就是用来完成此项任务的--&gt;</div><div class="line">     <span class="tag">&lt;<span class="name">servlet</span>&gt;</span><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></div><div class="line"></div><div class="line">     <span class="comment">&lt;!--服务器一般为servlet提供一个缺省的URL：http://host/webAppPrefix/servlet/ServletName。</span></div><div class="line">         但是，常常会更改这个URL，以便servlet可以访问初始化参数或更容易地处理相对URL。</div><div class="line">         在更改缺省URL时，使用servlet-mapping元素--&gt;</div><div class="line">     <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></div><div class="line"></div><div class="line">     <span class="comment">&lt;!--如果某个会话在一定时间内未被访问，服务器可以抛弃它以节省内存。可通过使用HttpSession的</span></div><div class="line">         setMaxInactiveInterval方法明确设置单个会话对象的超时值，或者可利用session-config元素制定缺省超时值--&gt;</div><div class="line">     <span class="tag">&lt;<span class="name">session-config</span>&gt;</span><span class="tag">&lt;/<span class="name">session-config</span>&gt;</span></div><div class="line"></div><div class="line">     <span class="comment">&lt;!--如果Web应用具有想到特殊的文件，希望能保证给他们分配特定的MIME类型，则mime-mapping元素提供这种保证--&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">mime-mapping</span>&gt;</span><span class="tag">&lt;/<span class="name">mime-mapping</span>&gt;</span></div><div class="line"></div><div class="line">     <span class="comment">&lt;!--指示服务器在收到引用一个目录名而不是文件名的URL时，使用哪个文件--&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">welcome-file-list</span>&gt;</span><span class="tag">&lt;/<span class="name">welcome-file-list</span>&gt;</span></div><div class="line"></div><div class="line">     <span class="comment">&lt;!--在返回特定HTTP状态代码时，或者特定类型的异常被抛出时，能够制定将要显示的页面--&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">error-page</span>&gt;</span><span class="tag">&lt;/<span class="name">error-page</span>&gt;</span></div><div class="line"></div><div class="line">     <span class="comment">&lt;!--对标记库描述符文件（Tag Libraryu Descriptor file）指定别名。此功能使你能够更改TLD文件的位置，</span></div><div class="line">         而不用编辑使用这些文件的JSP页面--&gt;</div><div class="line">     <span class="tag">&lt;<span class="name">taglib</span>&gt;</span><span class="tag">&lt;/<span class="name">taglib</span>&gt;</span></div><div class="line"></div><div class="line">     <span class="comment">&lt;!--声明与资源相关的一个管理对象--&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">resource-env-ref</span>&gt;</span><span class="tag">&lt;/<span class="name">resource-env-ref</span>&gt;</span></div><div class="line"></div><div class="line">     <span class="comment">&lt;!--声明一个资源工厂使用的外部资源--&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">resource-ref</span>&gt;</span><span class="tag">&lt;/<span class="name">resource-ref</span>&gt;</span></div><div class="line"></div><div class="line">     <span class="comment">&lt;!--制定应该保护的URL。它与login-config元素联合使用--&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">security-constraint</span>&gt;</span><span class="tag">&lt;/<span class="name">security-constraint</span>&gt;</span></div><div class="line"></div><div class="line">     <span class="comment">&lt;!--指定服务器应该怎样给试图访问受保护页面的用户授权。它与sercurity-constraint元素联合使用--&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">login-config</span>&gt;</span><span class="tag">&lt;/<span class="name">login-config</span>&gt;</span></div><div class="line"></div><div class="line">     <span class="comment">&lt;!--给出安全角色的一个列表，这些角色将出现在servlet元素内的security-role-ref元素的role-name子元素中。</span></div><div class="line">         分别地声明角色可使高级IDE处理安全信息更为容易--&gt;</div><div class="line">     <span class="tag">&lt;<span class="name">security-role</span>&gt;</span><span class="tag">&lt;/<span class="name">security-role</span>&gt;</span></div><div class="line"></div><div class="line">     <span class="comment">&lt;!--声明Web应用的环境项--&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">env-entry</span>&gt;</span><span class="tag">&lt;/<span class="name">env-entry</span>&gt;</span></div><div class="line"></div><div class="line">     <span class="comment">&lt;!--声明一个EJB的主目录的引用--&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">ejb-ref</span>&gt;</span><span class="tag">&lt;/<span class="name">ejb-ref</span>&gt;</span></div><div class="line"></div><div class="line">     <span class="comment">&lt;!--声明一个EJB的本地主目录的应用--&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">ejb-local-ref</span>&gt;</span><span class="tag">&lt;/<span class="name">ejb-local-ref</span>&gt;</span></div><div class="line"></div><div class="line"> <span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>二、各个配置文件详解<br> 2.1 Web应用名称：提供GUI工具可能会用来标记这个特定应用的一个名称</p>
<p><display-name>Tomcat Example</display-name></p>
<p> 2.2 Web应用描述：给出与此应用相关的说明性文本</p>
<disciption>Tomcat Example servlets and JSP pages.</disciption>


<p>2.3上下文参数：生命应用范围内的初始化参数</p>
<p><context-param><br>    <param-name>参数名<br>    <param-value>参数值</param-value><br>    <description>参数描述</description><br></param-name></context-param><br>可以通过sce.getServletContex.getInitParameter(“参数名”)获得参数的取值，其中sce是一个ServletContexEvent实例，可以在容器开启时执行连接数据库等操作。</p>
<p>2.4过滤器配置：在请求和相应对象在Servlet处理之前或之后，可以通过此此过滤器对两个对象进行处理。</p>
<pre><code> filter-class 中指定的过滤器类须继承 javax.servlet.Filter 具有须有以下三种方法

         init(FilterConfig filterConfig)：初始化;一般情况下时读取配置文件中的init-param参数值 如 filterConfig.getInitParameter(&quot;encoding&quot;)

         doFilter(...)：用于对request,response进行处理，并能过chain.doFilter(...) 交过下一个控制器

        destroy()：资源销毁

例如编码过滤器：
</code></pre><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>encodingfilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.my.app.EncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">init-param</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">param-value</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>encodingfilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></div></pre></td></tr></table></figure>
<p>java代码：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line">*</div><div class="line">*/</div><div class="line"><span class="keyword">package</span> com.myapp;</div><div class="line"></div><div class="line"><span class="keyword">import</span> java.io.IOException;</div><div class="line"></div><div class="line"><span class="keyword">import</span> javax.servlet.Filter;</div><div class="line"><span class="keyword">import</span> javax.servlet.FilterChain;</div><div class="line"><span class="keyword">import</span> javax.servlet.FilterConfig;</div><div class="line"><span class="keyword">import</span> javax.servlet.ServletException;</div><div class="line"><span class="keyword">import</span> javax.servlet.ServletRequest;</div><div class="line"><span class="keyword">import</span> javax.servlet.ServletResponse;</div><div class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</div><div class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line">* <span class="doctag">@author</span> louisliao</div><div class="line">*</div><div class="line">*/</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EncodingFilter</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</div><div class="line"></div><div class="line">	<span class="comment">/**</span></div><div class="line">	* 配置中默认的字符编码</div><div class="line">	*/</div><div class="line">	<span class="keyword">protected</span> String encoding = <span class="keyword">null</span>;</div><div class="line">	<span class="keyword">protected</span> FilterConfig filterConfig;</div><div class="line">	<span class="comment">/**</span></div><div class="line">	* 当没有指定默认编码时是否允许跳过过滤</div><div class="line">	*/</div><div class="line">	<span class="keyword">protected</span> <span class="keyword">boolean</span> ignore = <span class="keyword">true</span>;</div><div class="line">	<span class="comment">/**</span></div><div class="line">	*</div><div class="line">	*/</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">EncodingFilter</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="comment">// TODO Auto-generated constructor stub</span></div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">/* (non-Javadoc)</span></div><div class="line">	* @see javax.servlet.Filter#destroy()</div><div class="line">	*/</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="comment">// TODO Auto-generated method stub</span></div><div class="line">		<span class="keyword">this</span>.encoding=<span class="keyword">null</span>;</div><div class="line">		<span class="keyword">this</span>.filterConfig=<span class="keyword">null</span>;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">/* (non-Javadoc)</span></div><div class="line">	* @see javax.servlet.Filter#doFilter(javax.servlet.ServletRequest, javax.servlet.ServletResponse, javax.servlet.FilterChain)</div><div class="line">	*/</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest request, ServletResponse response, FilterChain chain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</div><div class="line">		<span class="comment">// TODO Auto-generated method stub</span></div><div class="line">		HttpServletRequest hRequest=(HttpServletRequest)request;</div><div class="line">		HttpServletResponse hResponse=(HttpServletResponse)response;</div><div class="line">		<span class="comment">//Conditionally select and set the character encoding to be used</span></div><div class="line">		<span class="keyword">if</span>(ignore || hRequest.getCharacterEncoding()==<span class="keyword">null</span>)&#123;</div><div class="line">			String coding=selectEncoding(hRequest);</div><div class="line">			<span class="keyword">if</span>(coding!=<span class="keyword">null</span>)&#123;</div><div class="line">				hRequest.setCharacterEncoding(coding);</div><div class="line">				hResponse.setCharacterEncoding(coding);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="comment">//将控制器传向下一个filter</span></div><div class="line">		chain.doFilter(hRequest, hResponse);</div><div class="line"></div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">/* (non-Javadoc)</span></div><div class="line">	* @see javax.servlet.Filter#init(javax.servlet.FilterConfig)</div><div class="line">	*/</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</div><div class="line">		<span class="comment">// TODO Auto-generated method stub</span></div><div class="line">		<span class="keyword">this</span>.filterConfig=filterConfig;</div><div class="line">		<span class="keyword">this</span>.encoding=filterConfig.getInitParameter(<span class="string">"encoding"</span>);</div><div class="line">		System.out.println(<span class="keyword">this</span>.encoding);</div><div class="line">		String value = filterConfig.getInitParameter(<span class="string">"ignore"</span>);</div><div class="line">		<span class="keyword">if</span> (value == <span class="keyword">null</span>) &#123;</div><div class="line">			<span class="keyword">this</span>.ignore = <span class="keyword">true</span>;</div><div class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (value.equalsIgnoreCase(<span class="string">"true"</span>)) &#123;</div><div class="line">			<span class="keyword">this</span>.ignore = <span class="keyword">true</span>;</div><div class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (value.equalsIgnoreCase(<span class="string">"yes"</span>)) &#123;</div><div class="line">			<span class="keyword">this</span>.ignore = <span class="keyword">true</span>;</div><div class="line">		&#125; <span class="keyword">else</span> &#123;</div><div class="line">			<span class="keyword">this</span>.ignore = <span class="keyword">false</span>;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">protected</span> String <span class="title">selectEncoding</span><span class="params">(ServletRequest request)</span> </span>&#123;</div><div class="line">	<span class="keyword">return</span> (<span class="keyword">this</span>.encoding);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>init方法是在WEB应用启动就会调用,doFilter则是在访问filter-mapping映射到的url时会调用。<br>2.5 监听器配置：<br>Servlet监听器是Servlet规范中定义的一种特殊类，用于监听ServletContext、HttpSession和ServletRequest等域对象的创建与销毁事件，以及监听这些域对象中属性发生修改的事件。</p>
<p>监听对象：</p>
<p>1、ServletContext：application，整个应用只存在一个</p>
<p>2、HttpSession：session，针对每一个对话</p>
<p>3、ServletRequest：request，针对每一个客户请求</p>
<p>监听内容：创建、销毁、属性改变事件</p>
<p>监听作用：可以在事件发生前、发生后进行一些处理，一般可以用来统计在线人数和在线用户、统计网站访问量、系统启动时初始化信息等。</p>
<p><listener><br>    <listerner-class>org.springframework.web.context.ContextLoaderListener<br></listerner-class></listener><br>监听器的分类：</p>
<p>用于监听应用程序环境对象(ServletContext)的事件监听器，实现ServletContextListener、ServletContextAttributeListener接口<br>用于监听用户会话对象(HttpSeesion)的事件监听器，实现HttpSessionListener、HttpSessionAttributeListener接口<br>用于监听请求消息对象(ServletRequest)的事件监听器，实现ServletRequestListener、ServletRequestAttributeListener接口<br>2.6 Servlet配置：</p>
<p><servlet><br>     <servlet-name>servlet名称</servlet-name><br>     <servlet-class>servlet类全路径</servlet-class><br>     <init-param><br>         <param-name>参数名</param-name><br>         <param-value>参数值</param-value><br>     </init-param><br>     <run-as><br>         <description>Security role for anonymous access</description><br>         <role-name>tomcat</role-name><br>     </run-as><br>  　 <load-on-startup>指定当Web应用启动时，装载Servlet的次序</load-on-startup><br></servlet></p>
<p><servlet-mapping><br>    <servlet-name>servlet名称</servlet-name><br>    <url-pattern>映射路径</url-pattern><br></servlet-mapping><br>2.7 会话超时配置（单位为分钟）：<br>设置session的有效期，单位分钟</p>
<p><session-config><br>     <session-timeout>120</session-timeout><br></session-config><br>2.8 Web应用图标：指出IDE和GUI工具用来表示Web应用的大图标和小图标<br> <icon><br>      <small-icon>/images/app_small.gif</small-icon><br>      <large-icon>/images/app_large.gif</large-icon><br></icon></p>
<p>2.9 MIME类型配置：</p>
<p><mime-mapping><br>     <extension>htm</extension><br>     <mime-type>text/html</mime-type><br></mime-mapping></p>
<p>2.10指定欢迎页面配置</p>
<p><welcome-file-list><br>     <welcome-file>index.jsp</welcome-file><br>     <welcome-file>index.html</welcome-file><br>     <welcome-file>index.htm</welcome-file><br></welcome-file-list></p>
<p>2.11配置错误页面<br>通过错误码来配置error-page</p>
<!--配置了当系统发生404错误时，跳转到错误处理页面NotFound.jsp-->
<p><error-page><br>      <error-code>404</error-code><br>      <location>/NotFound.jsp</location><br></error-page><br>通过异常类型来配置error-page</p>
<!--配置了当系统发生java.lang.NullException（即空指针异常）时，跳转到错误处理页面error.jsp-->
<p><error-page><br>      <exception-type>java.lang.NullException</exception-type><br>      <location>/error.jsp</location><br></error-page><br>2.12TLD配置：</p>
<taglib><br>    <taglib-uri><a href="http://jakarta.apache.org/tomcat/debug-taglib" target="_blank" rel="external">http://jakarta.apache.org/tomcat/debug-taglib</a></taglib-uri><br>    <taglib-location>/WEB-INF/jsp/debug-taglib.tld</taglib-location><br></taglib>


<p>2.13资源管理对象配置<br> <resource-env-ref><br>      <resource-env-ref-name>jms/StockQueue</resource-env-ref-name><br> </resource-env-ref></p>
<p>2.14资源工厂配置<br> <resource-ref><br>      <res-ref-name>mail/Session</res-ref-name><br>      <res-type>javax.mail.Session</res-type><br>      <res-auth>Container</res-auth><br> </resource-ref></p>
<p>2.15安全限制配置<br> <security-constraint><br>       <display-name>Example Security Constraint</display-name><br>       <web-resource-collection><br>           <web-resource-name>Protected Area</web-resource-name><br>           <url-pattern>/jsp/security/protected/*</url-pattern><br>           <http-method>DELETE</http-method><br>           <http-method>GET</http-method><br>           <http-method>POST</http-method><br>           <http-method>PUT</http-method><br>       </web-resource-collection><br>       <auth-constraint><br>           <role-name>tomcat</role-name><br>           <role-name>role1</role-name><br>       </auth-constraint><br> </security-constraint></p>
<p>2.16登录验证配置</p>
<p><login-config><br>     <auth-method>FORM</auth-method><br>     <realm-name>Example-Based Authentiation Area</realm-name><br>   <form-login-config><br>          <form-login-page>/jsp/security/protected/login.jsp</form-login-page><br>          <form-error-page>/jsp/security/protected/error.jsp</form-error-page><br>     </form-login-config><br></login-config></p>
<p>2.17安全角色：security-role元素给出安全角色的一个列表，这些角色将出现在servlet元素内的security-role-ref元素的role-name子元素中。<br>分别地声明角色可使高级IDE处理安全信息更为容易。</p>
<p><security-role><br>     <role-name>tomcat</role-name><br></security-role></p>
<p>2.18Web环境参数：env-entry元素生命Web应用的环境项</p>
<p><env-entry><br>     <env-entry-name>minExemptions</env-entry-name><br>     <env-entry-value>1</env-entry-value><br>     <env-entry-type>java.lang.Integer</env-entry-type><br></env-entry></p>
<p>2.19EJB声明</p>
<p><ejb-ref><br>     <description>Example EJB reference<br>     <ejb-ref-name>ejb/Account</ejb-ref-name><br>     <ejb-ref-type>Entity</ejb-ref-type><br>     <home>com.mycompany.mypackage.AccountHome</home><br>     <remote>com.mycompany.mypackage.Account</remote><br></description></ejb-ref></p>
<p>2.20本地EJB声明</p>
<p><ejb-local-ref><br>     <description>Example Loacal EJB reference<br>     <ejb-ref-name>ejb/ProcessOrder</ejb-ref-name><br>     <ejb-ref-type>Session</ejb-ref-type><br>     <local-home>com.mycompany.mypackage.ProcessOrderHome</local-home><br>     <local>com.mycompany.mypackage.ProcessOrder</local><br></description></ejb-local-ref></p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://jasonlife.top/2017/12/27/27web-xml详解/" data-id="cjp0w54qn001dt6xweqhvhebh" class="article-share-link">分享到</a><div class="tags"></div><div class="post-nav"><a href="/2018/01/15/28POM文件详解/" class="pre">POM文件详解</a><a href="/2017/11/16/26Java面试题/" class="next">26Java面试题</a></div><div class="post-donate"><div id="donate_board" class="donate_bar center"><a id="btn_donate" href="javascript:;" title="打赏" class="btn_donate"></a><div class="donate_txt"> &uarr;<br>此文有用? 求鼓励!<br></div></div><div id="donate_guide" class="donate_bar center hidden"><img src="https://thumbnail0.baidupcs.com/thumbnail/5d04e9dfd09f4c3f1efb1b0dc11e7639?fid=51316594-250528-101240699237702&amp;time=1543392000&amp;rt=sh&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-ocx7cJWWb55FXbjH%2B%2Fk3No1KMVc%3D&amp;expires=8h&amp;chkv=0&amp;chkbd=0&amp;chkpc=&amp;dp-logid=7692443322322337931&amp;dp-callid=0&amp;size=c710_u400&amp;quality=100&amp;vuk=-&amp;ft=video" title="微信打赏"></div><script type="text/javascript">document.getElementById('btn_donate').onclick = function(){
    $('#donate_board').addClass('hidden');
    $('#donate_guide').removeClass('hidden');
}</script></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="search" name="word" maxlength="20" placeholder="Search"/><input type="hidden" name="si" value="http://jasonlife.top"/><input name="tn" type="hidden" value="bds"/><input name="cl" type="hidden" value="3"/><input name="ct" type="hidden" value="2097152"/><input name="s" type="hidden" value="on"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Book/">Book</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Guava/">Guava</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/RPC/">RPC</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Temp/">Temp</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/分布式/">分布式</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/博客技术/">博客技术</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/技术/">技术</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/缓存/">缓存</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/职业规划/">职业规划</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/计算机网络/">计算机网络</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/面试/">面试</a><span class="category-list-count">2</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/算法/" style="font-size: 15px;">算法</a> <a href="/tags/Java-JVM-虚拟机/" style="font-size: 15px;">Java JVM 虚拟机</a> <a href="/tags/面试-Java/" style="font-size: 15px;">面试 Java</a> <a href="/tags/Temp/" style="font-size: 15px;">Temp</a> <a href="/tags/Java-Guava/" style="font-size: 15px;">Java Guava</a> <a href="/tags/Java-Paxos-Zookeeper/" style="font-size: 15px;">Java Paxos Zookeeper</a> <a href="/tags/Java-专业术语/" style="font-size: 15px;">Java 专业术语</a> <a href="/tags/Tech/" style="font-size: 15px;">Tech</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/RPC/" style="font-size: 15px;">RPC</a> <a href="/tags/Book/" style="font-size: 15px;">Book</a> <a href="/tags/缓存-架构/" style="font-size: 15px;">缓存 架构</a> <a href="/tags/Java-对比/" style="font-size: 15px;">Java 对比</a> <a href="/tags/Markdown/" style="font-size: 15px;">Markdown</a> <a href="/tags/计算机网络/" style="font-size: 15px;">计算机网络</a> <a href="/tags/Paxos/" style="font-size: 15px;">Paxos</a> <a href="/tags/Java-面试/" style="font-size: 15px;">Java 面试</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/08/30/32java-web会话管理/">32java web会话管理</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/30/31git-ignore/">git ignore 文件解析</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/30/30IntegerCache-ByteCache-CharacterCache-LongCache-ShortCache/">30IntegerCache ByteCache CharacterCache LongCache ShortCache</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/13/29ni真的了解TCP三次握手么？/">29ni真的了解TCP三次握手么？</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/01/15/28POM文件详解/">POM文件详解</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/27/27web-xml详解/">web.xml详解</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/16/26Java面试题/">26Java面试题</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/12/25高并发服务设计——缓存/">高并发服务设计——缓存</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/12/24大型网站系统与Java中间件实战/">大型网站系统与Java中间件实战</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/12/23RPC框架学习/">RPC框架学习</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.jianshu.com/u/90ab66c248e6" title="占小狼" target="_blank">占小狼</a><ul></ul><a href="http://calvin1978.blogcn.com/" title="江南白衣" target="_blank">江南白衣</a><ul></ul><a href="http://coolshell.cn/" title="酷壳" target="_blank">酷壳</a><ul></ul><a href="http://colobu.com/" title="鸟窝" target="_blank">鸟窝</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">Jason的博客.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?10423309";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>